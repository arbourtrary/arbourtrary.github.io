<script>
    import { section } from "../store.js"

    let header;
    let titles = [];
    $: if (header) {
        titles = header.querySelectorAll(".title")
    }

    $: if (titles.length) {
        titles.forEach((x, i) => { i !== $section && x.classList.remove("active") });
        titles[$section].classList.add("active")
    }
</script>

<div class="header" bind:this={header}>
    <a href="https://arbourtrary.com" aria-label="Homepage link">
        <div class="home">
            <svg height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 155.48352 172.73938" version="1.1"  xml:space="preserve"><g transform="translate(-0.71756664,-0.67336595)"><image width="157.0063" height="175.22824" preserveAspectRatio="none" id="image140" x="20.781904" y="40.479061" style="display:none;fill-opacity:1;image-rendering:auto" /><path style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:normal" d="m 84.497666,166.39386 c -5.01931,-1.42152 -9.922898,-3.3434 -14.569407,-5.71494 -4.623653,-2.35988 -8.869102,-5.41174 -13.110755,-8.40433 -3.589692,-2.53261 -7.496845,-4.78987 -10.421369,-8.06816 -2.878496,-3.22669 -3.974649,-7.75586 -6.723464,-11.09372 -2.117991,-2.57186 -4.946585,-4.46478 -7.395811,-6.72346 -3.496875,-3.22482 -7.074849,-6.36843 -10.421368,-9.74902 -3.849995,-3.88919 -8.450021,-7.31067 -11.093714,-12.10224 C 7.6774282,98.947741 5.6531942,92.443991 5.7191792,86.059661 c 0.05317,-5.14454 2.665694,-9.94857 4.3702508,-14.80281 1.764972,-5.02629 3.61793,-10.05261 6.051117,-14.79162 3.081592,-6.001893 6.473254,-11.93295 10.757543,-17.144836 3.322408,-4.041748 7.432423,-7.381985 11.429889,-10.757543 4.400711,-3.716068 8.889414,-7.38373 13.783101,-10.421368 5.109354,-3.171508 10.514929,-5.9318 16.136312,-8.068156 5.24334,-1.9926837 10.650994,-4.0364047 16.250274,-4.3702517 3.12632,-0.186401 6.25141,0.622524 9.29888,1.344694 4.1377,0.980526 8.231974,2.272532 12.102234,4.0340777 6.62938,3.017352 13.18941,6.480113 18.8257,11.093714 4.54391,3.719435 8.20335,8.442947 11.76606,13.110755 3.63972,4.768708 7.09355,9.748515 9.74902,15.127792 2.05537,4.163622 4.14919,8.501012 4.70643,13.110752 0.90637,7.49786 -0.88123,15.12719 -2.35321,22.5348 -1.38283,6.95896 -4.08732,13.58898 -6.05112,20.406819 -2.64932,9.19782 -4.84888,18.52751 -7.73198,27.65475 -1.82546,5.77899 -3.60969,11.59791 -6.05112,17.14484 -1.53483,3.48713 -2.56569,7.51568 -5.37877,10.08519 -4.04147,3.69153 -9.81513,5.06957 -15.1278,6.38729 -2.51097,0.6228 -5.14495,0.68494 -7.73197,0.67235 -3.489984,-0.017 -6.964204,-0.5308 -10.421374,-1.00852 -1.87916,-0.25967 -3.77575,-0.4916 -5.60098,-1.00852 z" id="path412" /><path style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:normal" d="m 84.413086,137.3751 c -3.35861,-0.95118 -6.63974,-2.23717 -9.74887,-3.82403 -3.093841,-1.57908 -5.934607,-3.62118 -8.772836,-5.62362 -2.401978,-1.69466 -5.016382,-3.20506 -6.973276,-5.39868 -1.926095,-2.15908 -2.659567,-5.18969 -4.498888,-7.42317 -1.417218,-1.72091 -3.309921,-2.98753 -4.948779,-4.49888 -2.339871,-2.15784 -4.734011,-4.26132 -6.973275,-6.52339 -2.576158,-2.60239 -5.654185,-4.891809 -7.423167,-8.097999 -2.06384,-3.74062 -3.41832,-8.09248 -3.374168,-12.36445 0.03558,-3.44237 1.783703,-6.6569 2.924278,-9.90504 1.180999,-3.36325 2.420874,-6.72653 4.049001,-9.89757 2.061991,-4.01606 4.331465,-7.98471 7.198221,-11.472159 2.223131,-2.704461 4.973276,-4.939521 7.648112,-7.198217 2.944659,-2.486542 5.948196,-4.940695 9.222721,-6.973278 3.418839,-2.12216 7.035882,-3.969161 10.797329,-5.398666 3.50849,-1.333369 7.126917,-2.70089 10.873597,-2.924279 2.09194,-0.124726 4.18303,0.416552 6.2222,0.89978 2.76866,0.656101 5.50827,1.520625 8.09799,2.699332 4.435944,2.019008 8.825454,4.336055 12.596894,7.423166 3.04047,2.488797 5.48913,5.649452 7.87306,8.772833 2.43544,3.190897 4.74652,6.523048 6.52338,10.122498 1.37531,2.786 2.77635,5.68828 3.14922,8.77283 0.60648,5.01707 -0.58965,10.12211 -1.57461,15.07877 -0.9253,4.65647 -2.73497,9.09282 -4.04899,13.65488 -1.77276,6.154539 -3.24455,12.397349 -5.17373,18.504679 -1.22147,3.86691 -2.41537,7.76053 -4.04901,11.47217 -1.027,2.33335 -1.71677,5.02899 -3.59911,6.74834 -2.70428,2.47009 -6.56761,3.39221 -10.12249,4.27393 -1.680174,0.41676 -3.442654,0.45833 -5.173724,0.4499 -2.33526,-0.0114 -4.65997,-0.35518 -6.97328,-0.67484 -1.2574,-0.17376 -2.52648,-0.32894 -3.7478,-0.67484 z" id="path3374" /><path style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:normal" d="m 84.741966,113.17104 c -1.87794,-0.5457 -3.7126,-1.28351 -5.45105,-2.19393 -1.7299,-0.90598 -3.318308,-2.0776 -4.905295,-3.22645 -1.343057,-0.97227 -2.804889,-1.83884 -3.89908,-3.09739 -1.076969,-1.23871 -1.487087,-2.97746 -2.515536,-4.25888 -0.792433,-0.987339 -1.850731,-1.714029 -2.767093,-2.581129 -1.30833,-1.23803 -2.647005,-2.44485 -3.899081,-3.74267 -1.44045,-1.49306 -3.161517,-2.80657 -4.150636,-4.64606 -1.153989,-2.14612 -1.911342,-4.64289 -1.886655,-7.09384 0.0199,-1.97499 0.997351,-3.81926 1.635101,-5.68284 0.660351,-1.92957 1.353621,-3.8592 2.263984,-5.67851 1.152953,-2.30412 2.421923,-4.58107 4.024858,-6.58192 1.243054,-1.55162 2.780789,-2.83395 4.276414,-4.12983 1.646495,-1.4266 3.325912,-2.83462 5.156851,-4.00078 1.911631,-1.21754 3.934088,-2.27722 6.037288,-3.097366 1.96176,-0.764995 3.98499,-1.54958 6.07993,-1.677746 1.1697,-0.07155 2.33894,0.238988 3.47912,0.516231 1.54809,0.376424 3.07993,0.872426 4.52796,1.548691 2.48034,1.15836 4.93474,2.48772 7.04351,4.25888 1.700074,1.4279 3.069244,3.24125 4.402214,5.03324 1.36174,1.83071 2.65398,3.74246 3.64749,5.80758 0.76901,1.59841 1.5524,3.26352 1.76088,5.03323 0.33911,2.87843 -0.3297,5.80734 -0.88043,8.65114 -0.51737,2.67154 -1.52926,5.21681 -2.26397,7.83419 -0.99124,3.53105 -1.81418,7.11274 -2.89288,10.616689 -0.68297,2.21856 -1.35054,4.45244 -2.26399,6.58192 -0.57423,1.33871 -0.95992,2.88528 -2.012434,3.87172 -1.51208,1.41716 -3.67225,1.94621 -5.65995,2.45208 -0.93945,0.2391 -1.92494,0.26295 -2.89287,0.25811 -1.30574,-0.006 -2.60561,-0.20377 -3.89908,-0.38717 -0.70308,-0.0997 -1.41267,-0.18871 -2.09557,-0.38719 z" id="path3395" /><path style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:normal" d="m 84.648896,90.698471 c -0.44948,-0.12982 -0.8886,-0.30537 -1.3047,-0.52198 -0.41405,-0.21557 -0.79423,-0.49432 -1.17406,-0.76767 -0.32146,-0.23133 -0.67135,-0.43751 -0.93324,-0.73695 -0.25777,-0.29471 -0.35593,-0.70841 -0.60209,-1.0133 -0.18967,-0.23491 -0.44297,-0.40782 -0.6623,-0.61412 -0.31314,-0.29457 -0.63355,-0.5817 -0.93323,-0.89049 -0.34477,-0.35523 -0.7567,-0.66776 -0.99344,-1.10542 -0.27621,-0.51062 -0.45748,-1.10467 -0.45157,-1.68782 0.005,-0.4699 0.23871,-0.9087 0.39136,-1.35209 0.15805,-0.4591 0.32398,-0.91822 0.54188,-1.35109 0.27595,-0.5482 0.57968,-1.08996 0.96334,-1.56601 0.29751,-0.36917 0.66556,-0.67428 1.02354,-0.9826 0.39409,-0.33942 0.79605,-0.67443 1.23428,-0.95189 0.45755,-0.28969 0.94162,-0.54181 1.44501,-0.73695 0.46954,-0.18201 0.9538,-0.36868 1.45522,-0.39918 0.27996,-0.0169 0.55981,0.0568 0.83272,0.12282 0.37052,0.0896 0.73716,0.20758 1.08376,0.36848 0.59366,0.27561 1.18112,0.5919 1.68584,1.01331 0.40691,0.33974 0.73462,0.77118 1.05366,1.19754 0.32594,0.43557 0.63523,0.89043 0.87301,1.38178 0.18407,0.3803 0.37157,0.77648 0.42147,1.19754 0.0811,0.68485 -0.0789,1.38172 -0.21073,2.05834 -0.12382,0.63564 -0.36603,1.24122 -0.54188,1.86396 -0.23725,0.84015 -0.43421,1.69233 -0.6924,2.52601 -0.16348,0.52785 -0.32325,1.05936 -0.54188,1.56602 -0.13743,0.3185 -0.22976,0.68649 -0.48167,0.92119 -0.36191,0.33717 -0.87895,0.46306 -1.3547,0.58341 -0.22484,0.0569 -0.46072,0.0626 -0.69239,0.0614 -0.31253,-0.002 -0.62365,-0.0484 -0.93323,-0.0921 -0.16829,-0.0237 -0.33814,-0.0449 -0.50158,-0.0921 z" id="path4169" /></g></svg>
        </div>
    </a>
    <div class="image-container">
        <div style="margin-right: -2px; width: 10px; height: 10px; border-radius: 50%; opacity: 0.5; background: var(--red);">&nbsp;</div>
        <div style="margin-right: -3px; width: 14px; height: 14px; border-radius: 50%; opacity: 0.5; background: var(--orange);">&nbsp;</div>
        <div style="margin-right: -6px; width: 20px; height: 20px; border-radius: 50%; opacity: 0.5; background: var(--yellow);">&nbsp;</div>
        <div style="width: 25px; height: 25px; border-radius: 50%; opacity: 0.5; background: var(--green);">&nbsp;</div>
        <div style="margin-left: -6px; width: 20px; height: 20px; border-radius: 50%; opacity: 0.5; background: var(--blue);">&nbsp;</div>
        <div style="margin-left: -3px; width: 14px; height: 14px; border-radius: 50%; opacity: 0.5; background: var(--indigo);">&nbsp;</div>
        <div style="margin-left: -2px; width: 10px; height: 10px; border-radius: 50%; opacity: 0.5; background: var(--purple);">&nbsp;</div>
    </div>
    <div class="donate">
        <div class="logo">
            <a href="https://ko-fi.com/arbourtrary" target="_blank">
            <img src="https://arbourtrary.com/images/kofi.png" height="67" width="100" alt="Ko-Fi donation logo">
        </div>
    </div>
</div>

<style>
    .header {
        height: 41px;
        width: 100vw;
        margin: 0 auto;
        position: relative;
        top: 0px;
        left: 0px;
        display: flex;
        flex-direction: row;
        justify-content: center;
        background: var(--bg-color);
        z-index: 100;
        padding: 10px;
        box-sizing: border-box;
        border-bottom: 0.5px solid var(--color-2);
    }
    .title {
        width: 70px;
        font-size: 16px;
        font-family: var(--serif);
        font-weight: 300;
        letter-spacing: 0.5px;
        text-align: center;
        margin: 0px 40px;
        color: var(--color-2);
        transition: all 100ms ease-out;
        z-index: 11;
        pointer-events: all;
    }
    .title.active {
        color: var(--color-1);
/*        border-bottom: 1px solid var(--color-1) !important;*/
        -webkit-text-stroke-width: 1px;
        -webkit-text-stroke-color: var(--color-1);
    }
    a, a:visited {
        text-decoration: none;
    }
    .home {
        color: var(--color-1);
        padding-left: 5px;
        display: flex;
        align-items: center;
    }
    .home svg {
        height: 20px;
        width: 20px;
        color: darkgray;
    }
    .home svg:hover {
        cursor: pointer;
        color: var(--color-1);
        stroke-width: 2;
    }
    .sections {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .donate {
        padding-right: 5px;
        display: flex;
        align-items: center;  
    }
    .donate .logo {
        height: 18px;
        width: 27px;
    }
    .donate img {
        height: 100%;
        width: 100%;
        opacity: 0.4;
        filter: grayscale(100%);
    }
    .donate img:hover {
        cursor: pointer;
        opacity: 1;
        filter: saturate(100%);
    }
    .title:hover {
        cursor: pointer;
        color: var(--color-1);
        -webkit-text-stroke-width: 1px;
        -webkit-text-stroke-color: var(--color-1);
/*        border-bottom: 1px solid var(--color-1) !important;*/
    }
    .image-container {
        position: relative;
        height: 100%;
        margin: auto;
        display: flex;
        align-items: center;
        flex: 1;
        width: 100%;
        justify-content: center;
    }
    @media screen and (max-width: 1000px) {
        .title {
            width: auto;
            margin: 0px 20px;
        }

    }
    @media screen and (max-width: 550px) {
        .title {
            font-size: 14px;
            margin: 0px 13px;
        }
        .contact {
            display: none;
        }
    }
    @media screen and (max-width: 400px) {
        .title {
            font-size: 14px;
            margin: 0px 10px;
        }
    }
</style>